# ==========================================
# ELK Stack 生产环境配置
# ==========================================
# 此文件包含生产环境特定配置
# 使用方式: ./up.sh elk prod

# 安全配置（生产环境：启用安全功能+SSL）
ELK_SECURITY_ENABLED=true
ELK_TRANSPORT_SSL_ENABLED=true
ELK_HTTP_SSL_ENABLED=true

# Kibana是否需要认证（生产环境：需要）
KIBANA_NEEDS_AUTH=true

# Elasticsearch URL协议（生产环境使用HTTPS）
ELASTICSEARCH_PROTOCOL=https

# SSL证书路径
ELK_SSL_CERTIFICATE_AUTHORITIES=/usr/share/kibana/certs/ca/ca.crt
ELK_SSL_CERTIFICATE=/usr/share/kibana/certs/elasticsearch/elasticsearch.crt
ELK_SSL_KEY=/usr/share/kibana/certs/elasticsearch/elasticsearch.key

# ==========================================
# 生产环境资源限制（较高配置）
# ==========================================

# Elasticsearch生产环境配置
# 将 gc.log 输出到 logs 目录，避免权限问题（使用绝对路径）
ES_JAVA_OPTS="-Xms1g -Xmx2g -Xlog:gc*:file=/usr/share/elasticsearch/logs/gc.log:utctime,level,tags:filecount=5,filesize=64m"
# ELASTICSEARCH_DATA_PATH=./data/myDockerData/elkdata/elasticsearch/
ELASTICSEARCH_LOG_DIR=./logs/elasticsearch/
ELASTICSEARCH_MEMORY_LIMIT=4g
ELASTICSEARCH_CPU_LIMIT=1.5
ELASTICSEARCH_MEMORY_RESERVATION=1g
ELASTICSEARCH_CPU_RESERVATION=0.5

# Kibana生产环境资源限制
KIBANA_MEMORY_LIMIT=2g
KIBANA_CPU_LIMIT=1.5
KIBANA_MEMORY_RESERVATION=512m
KIBANA_CPU_RESERVATION=0.5

# Logstash生产环境资源限制
LOGSTASH_MEMORY_LIMIT=1g
LOGSTASH_CPU_LIMIT=1
LOGSTASH_MEMORY_RESERVATION=256m
LOGSTASH_CPU_RESERVATION=0.25
LS_JAVA_OPTS="-Xms512m -Xmx1g"

