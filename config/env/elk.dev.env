# ==========================================
# ELK Stack 开发环境配置
# ==========================================
# 此文件包含开发环境特定配置
# 使用方式: ./up.sh elk (默认) 或 ./up.sh elk dev

# 安全配置（开发环境：启用安全功能，但禁用SSL）
# 注意：必须启用xpack.security.enabled，否则Kibana会出现500错误
# Kibana需要基本的安全API（如user profile）才能正常工作
ELK_SECURITY_ENABLED=true
ELK_TRANSPORT_SSL_ENABLED=false
ELK_HTTP_SSL_ENABLED=false

# Kibana是否需要认证（开发环境：需要，使用elastic用户登录）
KIBANA_NEEDS_AUTH=true

# Elasticsearch URL协议（开发环境使用HTTP）
ELASTICSEARCH_PROTOCOL=http

# SSL证书路径（开发环境不使用SSL，设置为空）
ELK_SSL_CERTIFICATE_AUTHORITIES=
ELK_SSL_CERTIFICATE=
ELK_SSL_KEY=

# ==========================================
# 开发环境资源限制（较低配置）
# ==========================================

# Elasticsearch开发环境配置
# 将 gc.log 输出到 logs 目录，避免权限问题（使用绝对路径）
ES_JAVA_OPTS="-Xms2g -Xmx4g -Xlog:gc*:file=/usr/share/elasticsearch/logs/gc.log:utctime,level,tags:filecount=5,filesize=64m"
# ELASTICSEARCH_DATA_PATH=./data/myDockerData/elkdata/elasticsearch/
ELASTICSEARCH_LOG_DIR=./logs/elasticsearch/
ELASTICSEARCH_MEMORY_LIMIT=4g
ELASTICSEARCH_CPU_LIMIT=4
ELASTICSEARCH_MEMORY_RESERVATION=512m
ELASTICSEARCH_CPU_RESERVATION=0.25

# Kibana开发环境资源限制
KIBANA_MEMORY_LIMIT=1g
KIBANA_CPU_LIMIT=4
KIBANA_MEMORY_RESERVATION=256m
KIBANA_CPU_RESERVATION=0.25

# Logstash开发环境资源限制
LOGSTASH_MEMORY_LIMIT=1g
LOGSTASH_CPU_LIMIT=2
LOGSTASH_MEMORY_RESERVATION=128m
LOGSTASH_CPU_RESERVATION=0.1
LS_JAVA_OPTS="-Xms128m -Xmx256m"

